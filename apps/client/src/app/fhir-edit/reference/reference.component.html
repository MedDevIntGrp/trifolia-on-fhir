<div class="form-group" *ngIf="isFormGroup && parentObject">
  <label>
    <input type="checkbox" *ngIf="!required || !parentObject.hasOwnProperty(propertyName)" [ngModel]="parentObject.hasOwnProperty(propertyName)" (ngModelChange)="Globals.toggleProperty(parentObject, propertyName, { reference: '', display: '' })" />
    {{title || 'Reference'}}
  </label>
  <div class="input-group">
    <input type="text" class="form-control" [class.is-invalid]="required && !reference" [disabled]="!parentObject.hasOwnProperty(propertyName) || disabled" [(ngModel)]="reference" placeholder="Reference" />
    <input type="text" class="form-control" *ngIf="!hideDisplay" [class.is-invalid]="required && !display" [disabled]="!parentObject.hasOwnProperty(propertyName) || disabled" [(ngModel)]="display" placeholder="Display" />
    <div class="input-group-append">
      <span *ngIf="prependIconClass" class="input-group-text">
        <i [attr.class]="prependIconClass" [ngbTooltip]="prependIconTooltip"></i>
      </span>
      <button type="button" class="btn btn-secondary" title="Select a resource for the reference" (click)="open(selectReferenceModal)" [disabled]="!parentObject.hasOwnProperty(propertyName) || disabled">
        <i class="fa fa-hand-pointer-o"></i>
      </button>
    </div>
  </div>
</div>
<div class="input-group" *ngIf="!isFormGroup && parentObject">
  <div class="input-group-prepend">
    <span class="input-group-text" *ngIf="!required || !parentObject.hasOwnProperty(propertyName)">
      <input type="checkbox" [ngModel]="parentObject.hasOwnProperty(propertyName)" (ngModelChange)="Globals.toggleProperty(parentObject, propertyName, { reference: '', display: '' })" />
    </span>
    <span class="input-group-text" *ngIf="!required">{{title}}</span>
  </div>
  <input type="text" class="form-control" [class.is-invalid]="required && !reference" [disabled]="!parentObject.hasOwnProperty(propertyName) || disabled" [(ngModel)]="reference" placeholder="Reference" />
  <input type="text" class="form-control" *ngIf="!hideDisplay" [class.is-invalid]="required && !display" [disabled]="!parentObject.hasOwnProperty(propertyName) || disabled" [(ngModel)]="display" placeholder="Display" />
  <div class="input-group-append">
    <span *ngIf="prependIconClass" class="input-group-text"><i [attr.class]="prependIconClass" [ngbTooltip]="prependIconTooltip"></i></span>
    <button type="button" class="btn btn-secondary" title="Select a resource for the reference" (click)="open(selectReferenceModal)" [disabled]="!parentObject.hasOwnProperty(propertyName) || disabled">
      <i class="fa fa-hand-pointer-o"></i>
    </button>
  </div>
</div>
